## Содержание
- [Build](#build)
  - [Запуск тестов](#запуск-тестов)
  - [Сгенерировать и открыть отчет](#сгенерировать-и-открыть-отчет)
- [Allure report](#allure-report)
  - [Запуск тестов и деплой отчета **в CI**](#1-удаленные-запуск-и-деплой-отчета-джобой-github-actions)
  - [Запуск тестов и деплой отчета **руками**](#2-запуск-локально-и-деплой-отчета-руками)
- [Требования](#требования)
  - [Стек](#стек)
  - [Тест-кейс](#тест-кейс)
## Build
В окружении должна быть установлена (и прописана в PATH) java не ниже 11 версии
и добавлена переменная среды JAVA_HOME.   
#### Запуск тестов:

    ./mvnw verify -DuseBrowserProfile=false

#### Сгенерировать и открыть отчет:

    ./mvnw allure:install
    ./mvnw allure:serve

## Allure report
Здесь два подраздела. Ссылка на наиболее содержательный отчет ~~здорового
человека~~ находится
во <ins>[втором](#2-запуск-локально-и-деплой-отчета-руками)</ins>.
### 1. Удаленные запуск и деплой отчета джобой "GitHub Actions"
При запуске в CI применять мой метод обхода капч затруднительно, поэтому результат оставляет желать лучшего.
Тем не менее посмотреть отчет можно по <ins>[этой ссылке](https://achitheus.github.io/automationCucumber/17/)</ins>, причем
относительный интерес, по понятным причинам,
представляет собой только <ins>[этот удачливый тест](https://achitheus.github.io/automationCucumber/16/#behaviors/2433d5c62c9d403236977a4a10dc6fdb/5a4d9e622c46a8d9/)</ins> из предыдущего запуска.  
Как ни странно, могло быть и хуже (подробнее см. в заметке [Удаленное противо-captcha-стояние](NOTES.md#удаленное-противо-captcha-стояние)).

*Поэтому более целесообразным представляется выполнить...*

### 2. Запуск локально и деплой отчета руками
Здесь уже руки не связаны, поэтому <ins>[результат](https://achitheus.github.io/automationCucumber/local-run/)</ins> соответствующий.
## Требования
### Стек
Использовать BDD подход и фреймворк Cucumber
### Тест-кейс
1. Открыть браузер и развернуть на весь экран.
1. Зайти на https://ya.ru/
1. Нажать на строку поиска -> Кликнуть по Маркет
1. Перейти в Каталог -> Навести курсор на раздел Электроника
1. Выбрать раздел Смартфоны
1. Задать параметр «Производитель» Apple.
1. Дождаться результатов поиска.
1. Убедиться, что в выборку попали только iPhone. Если страниц несколько – проверить все.

Тест должен работать для любого производителя из списка:
- ASUS
- Black Shark
- OnePlus
- Google
- Seals

### Прочее
- [x] Тест разбит на шаги. Коллега без знаний программирования по аллюр отчету должен понимать что делает
тест, какие проверки происходят
- [x] Тест должен быть параметризован
- [x] Необходимо использовать константы через проперти файл
- [x] Все ассерты должны быть переопределены
- [x] Если в коде используются циклы, необходимо исключить возможность бесконечного цикла
- [ ] Обязательно использовать Джава док для всех методов и переменных. На русском языке
- [x] Недопустимо использования Thread.sleep и Трай\кетчи. За исключением, создания собственных
ожиданий (к примеру каждый 5 миллисекунд проверяем что что-то случилось, и так не более 10 секунд.).
Лучше обойтись явными\неявными ожиданиями
- [x] _Помните про универсальные методы. Старайтесь писать код, полезный в других тестах, полезный
коллегам. Не будьте эгоистами!_
- [x] XPath не должен содержать индексов, динамических элементов
